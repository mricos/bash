<!doctype html>
<html>
<head>
  <style>
  
.plinko-nodes{
  position:relative;
  margin:auto;
  width:80%;
}
.plinko-node{
  border: 1px solid #888;
  display:block;
  box-sizing:border-box;
  line-height:1em;
  border-radius:50%;
  position:absolute;
  text-align:center;
  
  padding:0;
  margin:0;
  width:0;
  width:0;
  padding-top:3px; 
  font-size:0px;
}
  </style>
</head>
<body>

<script>
function g(id){
    return document.getElementById(id);
}


function plinkoClick(evt){
    g(evt.id).style.background="blue";
}

function renderNodes(nodes,state){
    nodes[state.curNodeIndex].style.background="blue";
    nodes[state.curRow*10 + state.curCol].style.background="red";
    g('status').innerHTML=state.curRow;
}

let gState={n:0, 
            deltaMs:100,
            curNodeIndex:0,
            curNodeId:"1,1,0",
            curRow:0,
            curCol:0
};

function getState(){
    return gState;
}

document.addEventListener("DOMContentLoaded", function() {
    let nodes = document.getElementsByClassName("plinko-node");
    setInterval(function(){ 
        state=getState();
        if (state.curNodeIndex < nodes.length){
            renderNodes(nodes,state); 
            state.curNodeIndex=state.curNodeIndex+1;
            state.curRow =(state.curNodeIndex+1) % 10;
            state.curCol = Math.floor(Math.random() * 10);
        }
        gState=state;
    }, gState.deltaMs);
});
</script>
<h1> Plinko! </h1>
<div id="status"> status </div>
<div class="plinko-nodes">
<div id=0-0-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:0%; " >  </div>
<div id=0-1-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:6%; " >  </div>
<div id=0-2-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:12%; " >  </div>
<div id=0-3-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:18%; " >  </div>
<div id=0-4-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:24%; " >  </div>
<div id=0-5-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:30%; " >  </div>
<div id=0-6-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:36%; " >  </div>
<div id=0-7-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:42%; " >  </div>
<div id=0-8-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:48%; " >  </div>
<div id=0-9-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:0%; left:54%; " >  </div>
<div id=1-0-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:0%; " >  </div>
<div id=1-1-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:6%; " >  </div>
<div id=1-2-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:12%; " >  </div>
<div id=1-3-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:18%; " >  </div>
<div id=1-4-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:24%; " >  </div>
<div id=1-5-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:30%; " >  </div>
<div id=1-6-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:36%; " >  </div>
<div id=1-7-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:42%; " >  </div>
<div id=1-8-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:48%; " >  </div>
<div id=1-9-0 class="plinko-node" onclick="plinkoClick(this)"
    style=" top:6%; left:54%; " >  </div>
</div> <!-- plinko-nodes -->

</body>
</html>

